{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\UJJU\\\\Desktop\\\\react-project\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from 'axios';\nimport { saveAs } from 'file-saver';\nimport firebase, { auth, provider } from './firebase.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.createAndDownloadPdf = function () {\n      axios.post('/create-pdf', _this.state).then(function () {\n        return axios.get('/fetch-pdf', {\n          responseType: 'blob'\n        });\n      }).then(function (res) {\n        var pdfBlob = new Blob([res.data], {\n          type: 'application/pdf'\n        });\n        saveAs(pdfBlob, 'generatedDocument.pdf');\n      });\n    };\n\n    _this.handleChange = function (_ref) {\n      var _ref$target = _ref.target,\n          value = _ref$target.value,\n          name = _ref$target.name;\n      return _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.state = {\n      name: 'Ujjwal',\n      receiptId: 0,\n      price1: 0,\n      price2: 0,\n      user: null\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createAndDownloadPdf = _this.createAndDownloadPdf.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.login = _this.login.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.logout = _this.logout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      auth.onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.setState({\n            user: user\n          });\n        }\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var _this3 = this;\n\n      // we will add the code for this in a moment, but need to add the method now or the bind will throw an error\n      auth.signOut().then(function () {\n        _this3.setState({\n          user: null\n        });\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login() {\n      var _this4 = this;\n\n      auth.signInWithPopup(provider).then(function (result) {\n        var user = result.user;\n\n        _this4.setState({\n          user: user\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, this.state.user ? React.createElement(\"button\", {\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Log Out\") : React.createElement(\"button\", {\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Log In\"), this.state.user ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Name\",\n        name: \"name\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"number\",\n        placeholder: \"Receipt ID\",\n        name: \"receiptId\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"number\",\n        placeholder: \"Price 1\",\n        name: \"price1\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"number\",\n        placeholder: \"Price 2\",\n        name: \"price2\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.createAndDownloadPdf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Download PDF\")) : React.createElement(\"button\", {\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Log In\"));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\UJJU\\Desktop\\react-project\\client\\src\\App.js"],"names":["React","Component","axios","saveAs","firebase","auth","provider","App","createAndDownloadPdf","post","state","then","get","responseType","res","pdfBlob","Blob","data","type","handleChange","target","value","name","setState","receiptId","price1","price2","user","bind","login","logout","onAuthStateChanged","signOut","signInWithPopup","result"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport { saveAs } from 'file-saver';\nimport firebase, { auth, provider } from './firebase.js';\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: 'Ujjwal',\n      receiptId: 0,\n      price1: 0,\n      price2: 0,\n      user: null \n   }\n   this.handleChange = this.handleChange.bind(this);\n   this.createAndDownloadPdf = this.createAndDownloadPdf.bind(this);\n   this.login = this.login.bind(this);\n   this.logout = this.logout.bind(this);\n  }\n  componentDidMount() {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n      } \n    });}\n  logout() {\n    // we will add the code for this in a moment, but need to add the method now or the bind will throw an error\n    auth.signOut()\n    .then(() => {\n      this.setState({\n        user: null\n      });\n    });\n  }\n  login() {\n    auth.signInWithPopup(provider) \n      .then((result) => {\n        const user = result.user;\n        this.setState({\n          user\n        });\n      });\n  }\n  createAndDownloadPdf = () => {\n    axios.post('/create-pdf', this.state).then(() => axios.get('/fetch-pdf', { responseType: 'blob' }))\n    .then((res) => {const pdfBlob = new Blob([res.data], { type: 'application/pdf' });saveAs(pdfBlob, 'generatedDocument.pdf')})\n    \n }\n  handleChange = ({ target: { value, name } }) => this.setState({ [name]: value });\n  render() {\n    return (\n      <div className=\"App\">\n      {this.state.user ?\n        <button onClick={this.logout}>Log Out</button>                \n        :\n        <button onClick={this.login}>Log In</button>              \n      }\n      {this.state.user ?\n        <div>\n        <input type=\"text\" placeholder=\"Name\" name=\"name\" onChange ={this.handleChange}/>\n          <input type=\"number\" placeholder=\"Receipt ID\" name=\"receiptId\"    onChange={this.handleChange}/>\n          <input type=\"number\" placeholder=\"Price 1\" name=\"price1\" onChange={this.handleChange}/>\n          <input type=\"number\" placeholder=\"Price 2\" name=\"price2\" onChange={this.handleChange}/>\n          <button onClick={this.createAndDownloadPdf}>Download PDF</button>\n        </div>               \n        :\n        <button onClick={this.login}>Log In</button>              \n      }\n   \n   </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}